<ion-view view-title="{{citiesCtrl.searchCityTranslated}}">

    <ion-nav-buttons side="secondary">
        <button class="button icon ion-refresh button-assertive" ng-if="citiesCtrl.error != null"
                ng-click="citiesCtrl.refreshCitiesList()">
        </button>
    </ion-nav-buttons>

    <ion-content>
        <ion-item class="item item-input item-input-inset">
            <ion-label class="item-input-wrapper" floating>
                <i class="icon ion-search placeholder-icon"></i>
                <input type="search" placeholder="{{'City Name'|translate}}" ng-model="citiesCtrl.cityToSearch"
                       ng-keyup="citiesCtrl.search()">
                    <button ng-show="citiesCtrl.cityToSearch !== '' "
                            class="button button-icon ion-android-close"
                            on-touch="citiesCtrl.clearSearch()"></button>
                </input>
            </ion-label>
        </ion-item>

        <div class="item item-text-wrap error enter-error headShake-error animated infinite" ng-if="citiesCtrl.error != null">
            {{citiesCtrl.error}}
        </div>

        <ion-list>
            <ion-item class="item-animate" ng-repeat="city in citiesCtrl.cities" ng-click="citiesCtrl.goTo(city)">
                <span class="flag-icon flag-icon-{{city.iso2 | lowercase}}"></span> {{city.name}} ({{city.admin1}})
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>
